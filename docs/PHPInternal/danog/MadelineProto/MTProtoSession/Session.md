---
title: danog\MadelineProto\MTProtoSession\Session: Manages MTProto session-specific data.
description: 

---
# `danog\MadelineProto\MTProtoSession\Session`
[Back to index](../../../index.md)

> Author: Daniil Gentili <daniil@daniil.it>  
  

Manages MTProto session-specific data.  




## Method list:
* `resetSession(): void`
* `createSession(): void`
* `backupSession(): array`
* `ackOutgoingMessageId(string|int $message_id): bool`
* `gotResponseForOutgoingMessage(\danog\MadelineProto\MTProto\OutgoingMessage $message): void`
* `ackIncomingMessage(\danog\MadelineProto\MTProto\IncomingMessage $message): void`
* `hasPendingCalls(): bool`
* `getPendingCalls(): array`
* `methodRecall(string $watcherId, array $args): void`
* `methodCallAsyncRead(string $method, array|\Generator $args, array $aargs): \Generator`
* `methodCallAsyncWrite(string $method, array|\Generator $args, array $aargs): \Generator`
* `objectCall(string $object, array $args, array $aargs): \Generator`
* `onNewMsgDetailedInfo(array $content): void`
* `onMsgDetailedInfo(array $content): void`
* `onMsgResendReq(array $content, string $current_msg_id): void`
* `onMsgResendAnsReq(array $content, string $current_msg_id): void`
* `onMsgsAllInfo(array $content): void`
* `sendMsgsStateInfo(array $msg_ids, string|int $req_msg_id): void`

## Methods:
### `resetSession(): void`

Reset MTProto session.



### `createSession(): void`

Create MTProto session if needed.



### `backupSession(): array`

Backup eventual unsent messages before session deletion.



### `ackOutgoingMessageId(string|int $message_id): bool`

Acknowledge outgoing message ID.


Parameters:
* `$message_id`: `string|int` Message Id  



### `gotResponseForOutgoingMessage(\danog\MadelineProto\MTProto\OutgoingMessage $message): void`

We have gotten a response for an outgoing message.


Parameters:
* `$message`: `\danog\MadelineProto\MTProto\OutgoingMessage` Message  


#### See also: 
* `\danog\MadelineProto\MTProto\OutgoingMessage`




### `ackIncomingMessage(\danog\MadelineProto\MTProto\IncomingMessage $message): void`

Acknowledge incoming message ID.


Parameters:
* `$message`: `\danog\MadelineProto\MTProto\IncomingMessage` Message  


#### See also: 
* `\danog\MadelineProto\MTProto\IncomingMessage`




### `hasPendingCalls(): bool`

Check if there are some pending calls.



### `getPendingCalls(): array`

Get all pending calls (also clear pending state requests).



### `methodRecall(string $watcherId, array $args): void`

Recall method.


Parameters:
* `$watcherId`: `string` Watcher ID for defer  
* `$args`: `array` Args  



### `methodCallAsyncRead(string $method, array|\Generator $args, array $aargs): \Generator`

Call method and wait asynchronously for response.
If the $aargs['noResponse'] is true, will not wait for a response.

Parameters:
* `$method`: `string` Method name  
* `$args`: `array|\Generator` Arguments  
  Full type:
  ```
  array|\Generator<mixed, mixed, mixed, array>
  ```
* `$aargs`: `array` Additional arguments  


#### See also: 
* `\Generator`




### `methodCallAsyncWrite(string $method, array|\Generator $args, array $aargs): \Generator`

Call method and make sure it is asynchronously sent (generator).


Parameters:
* `$method`: `string` Method name  
* `$args`: `array|\Generator` Arguments  
  Full type:
  ```
  array|\Generator<mixed, mixed, mixed, array>
  ```
* `$aargs`: `array` Additional arguments  


#### See also: 
* `\Generator`




### `objectCall(string $object, array $args, array $aargs): \Generator`

Send object and make sure it is asynchronously sent (generator).


Parameters:
* `$object`: `string` Object name  
* `$args`: `array` Arguments  
* `$aargs`: `array` Additional arguments  


#### See also: 
* `\Generator`




### `onNewMsgDetailedInfo(array $content): void`

Called when receiving a new_msg_detailed_info.


Parameters:
* `$content`: `array`   



### `onMsgDetailedInfo(array $content): void`

Called when receiving a msg_detailed_info.


Parameters:
* `$content`: `array`   



### `onMsgResendReq(array $content, string $current_msg_id): void`

Called when receiving a msg_resend_req.


Parameters:
* `$content`: `array`   
* `$current_msg_id`: `string`   



### `onMsgResendAnsReq(array $content, string $current_msg_id): void`

Called when receiving a msg_resend_ans_req.


Parameters:
* `$content`: `array`   
* `$current_msg_id`: `string`   



### `onMsgsAllInfo(array $content): void`

Called when receiving a msgs_all_info.


Parameters:
* `$content`: `array`   



### `sendMsgsStateInfo(array $msg_ids, string|int $req_msg_id): void`

Send state info for message IDs.


Parameters:
* `$msg_ids`: `array` Message IDs to send info about  
* `$req_msg_id`: `string|int` Message ID of msgs_state_req that initiated this  



---
Generated by [danog/phpdoc](https://phpdoc.daniil.it)
